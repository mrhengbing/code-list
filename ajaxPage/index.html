<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax实现无刷新分页</title>
	<script src="ajax.js"></script>
</head>
<body>
	<div id="fpage">
		数据加载中......
	</div>
	<script>
		var cache = new Array();

		function setPage(url){
			var obj = document.getElementById("fpage");

			if(typeof(cache[url]) == "undefined"){
				var ajax = Ajax();

				ajax.get(url, function(data){
					obj.innerHTML = data;
					cache[url] = data;
				});
				alert(url);
			}else{
				obj.innerHTML = cache[url];
			}
			
		}

		setPage("demo.php?page=1");
	</script>
	<hr>
	<script>
		document.write(new Date()+"<br>");
		document.write(new Date()+"<br>");
		document.write(new Date()+"<br>");
		document.write(new Date()+"<br>");

	</script>
</body>
</html>